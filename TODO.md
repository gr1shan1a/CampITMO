# TODO-лист проекта

### Текущие задачи

1. Создать `docker-compose.yml` для приложения + postgres -- протестировать работу локально. 
2. Подредактировать yaml файлы для приложения + postgres -- протестировать работу в облаке.
3. Vault Internal Service -- разобраться и настроить.
4. ~Vault retry-join автоматизировать.~
5. Доделать terraform-конфиг для создания k8s кластера (сразу с указанием числа нод) -- протестировать в своём облаке.
6. Terraform Vault -- написать файлы для политик и разобраться, как подключить это к облаку.

---

### Обязательная часть.

1) Развернуть Vault в kubernetes cluster, в HA режиме (Можно сначала локально, или в одном instance, но по итогу должно быть 3 реплики как минимум). Используйте StatefulSet
2) Использовать хранилище для хранения секретов типа raft
3) Развернуть kubernetes, можно вначале локально (minikube), но в итоговом варианте должен быть kubernetes в облаке и через terraform
4) Написать terraform для автоматизации создания policy, roles (хотя бы сделать для kubernetes), создание различных Access.
5) Написать helm, с учётом что можно будет поднять различное количество instance (требуется продумать возможность конфигурации)
6) Настроить время жизни токенов для каждых типов аутентификации 

### Дополнительно

1) Подумать над auto unseal Vault. Могу отдельно показать и рассказать про это
2) Продумать авторизацию пользователей через механизм авторизации OIDC, как вариант можно поднять keycloak (для начала используйте просто username)
3) Продумать доставку секретов в приложения используя один из вариантов доставки секретов из Vault. Подумать над различными доставками секретов - injector, csi, banks-vault, плюсы минусы и т.п.

### Прочее

1) Заполнить TODO в README.md